"use strict";(self["webpackChunkcms"]=self["webpackChunkcms"]||[]).push([[200],{7942:function(e,a,t){t.r(a);var s=t(7869);const r="/xapi/individual/user",o="AMS",n={namespaced:!0,state:{version:.1,token:null,title:null},actions:{async verify(e,a){let t={verb:"post",service:"AMS",url:r+"/verify",headers:{}};return new Promise(((a,r)=>{e.dispatch("ajaxManager/api",t,{root:!0}).then((t=>{e.dispatch("App-User-state/setProfileInfo",(0,s.TA)("user"),{root:!0}).then((()=>{a(t)}))})).catch((e=>{r(e)}))}))},async changeLoggedInUserPassword(e,a){let t={verb:"post",service:o,url:r+"/changeLoggedInUserPassword",data:(0,s.ao)(a.data)};return new Promise(((a,s)=>{e.dispatch("ajaxManager/api",t,{root:!0}).then((e=>{a(e)})).catch((e=>{s(e)}))}))},async updateLoggedInProfile(e,a){let t={verb:"post",service:o,url:r+"/updateLoggedInProfile",data:(0,s.ao)(a.data)};return new Promise(((a,s)=>{e.dispatch("ajaxManager/api",t,{root:!0}).then((e=>{a(e)})).catch((e=>{s(e)}))}))},async update(e,a){let t={verb:"post",service:o,url:r+"/update/"+a.id,data:(0,s.ao)(a.data)};return new Promise(((a,s)=>{e.dispatch("ajaxManager/api",t,{root:!0}).then((e=>{a(e)})).catch((e=>{s(e)}))}))},async login(e,a){let t=(0,s.ao)({username:a.identityPassport,password:a.secret});return new Promise(((a,s)=>{$store.dispatch("ajaxManager/api",{service:"AMS",verb:"post",url:"/xapi/individual/user/login",data:t,noToken:!0}).then((t=>{e.dispatch("App-User-state/setProfileInfo",t.data,{root:!0}).then((()=>{let s=t.data.modules,r=$store.state["App-User-state"].modules,o=$store.state["App-User-state"].useLocalModules;$hkms.loadNameSpacesModules(o?r:s).then((()=>{e.dispatch("ajaxManager/setToken",{token:t.data.token},{root:!0}).then((()=>{a(!0)}))}))}))})).catch((e=>{s(e)}))}))}}};a["default"]=n}}]);
//# sourceMappingURL=200.96e2a589.js.map